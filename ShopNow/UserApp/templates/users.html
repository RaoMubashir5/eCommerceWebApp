<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Profile</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>
<body style="height: 100%;">
    {{admin}}
 
    {% if  data_reteived is False %}
    <header style="background-color: rgb(6, 139, 51); height: 8vh; font-weight: bolder; 
                   display: flex; justify-content: center; align-items: center; padding: 10px;">
                {{ massage }} 
               </header>

    {% else %}
        
    
        {% if single is True %}
       <!-- <nav>
        <button type="button" class="btn btn-warning" onclick="window.location.href='/api/home/'">Home</button>
        <button type="button" class="btn btn-info" onclick="window.location.href='#'">Cart</button>
       </nav> -->
      <header style="background-color: rgb(6, 139, 51);height: 7vh;font-weight: bolder;
       display: flex;justify-content: center;align-items: center;">
      <h1>User Profile</h1>
      {% if admin is True %}
      <button type="button" class="btn btn-info" onclick="window.location.href='/api/admin_options/'" style="margin-left: 72%;">Admin-Home</button>
      {% else %}
      <button type="button" class="btn btn-info" onclick="window.location.href='/api/home/'" style="margin-left: 72%;">Home</button>
      {% endif %}      
       </header>

        <table class="table table-striped table-hover table-bordered">
            <thead class="table-dark">
              <tr>
                <th >ID :</th>
                <th >username :</th>
                <th >Email :</th>
                <th>Order History</th>
                <th >Update</th>
                <th>Delete</th>
              </tr>
            </thead>
            <tbody>
           
              <tr>
                <td>{{response.id}}</td>
                <td>{{response.username}}</td>
                <td>{{response.email}}</td>
                {% if orderror is True %}
                <td>{{orders}}</td>
                {% else %}
                <td>              
                {% for order in orders %}
                <li>{{order}}</li>
                {% endfor %}
                </td>
                {% endif %}
                <td><button type="button" class="btn btn-warning" onclick="window.location.href='/api/update/{{ response.id }}'">Update</button></td>
                <td><button type="button" class="btn btn-danger" onclick="window.location.href='/api/delete/{{ response.id }}'">Delete</button>
                </td>
              </tr>
              <tr>{{ massage }}</tr>
            </tbody>
          </table>
        
        {% else %}
        <header style="background-color: rgb(6, 139, 51);height: 7vh;font-weight: bolder;
                       display: flex;justify-content: center;align-items: center;">
                      <h1>Users Profiles</h1>
                      {% if admin is True %}
                      <button type="button" class="btn btn-info" onclick="window.location.href='/api/admin_options/'" style="margin-left: 72%;">Admin-Home</button>
                      {% else %}
                      <button type="button" class="btn btn-info" onclick="window.location.href='/api/home/'" style="margin-left: 72%;">Home</button>
                      {% endif %}
                    </header>
        <table class="table table-striped table-hover table-bordered">
            <thead class="table-dark">
              <tr scope="row">
                <th >ID :</th>
                <th >username :</th>
                <th >Email :</th>
                <th >Update</th>
                <th>Delete</th>
              </tr>
            </thead>
            <tbody>
                {% for user in response %}
              <tr>
                <td>{{user.id}}</td>
                <td><a href="/api/single_user/{{user.id}}">{{user.username}}</a></td>
                <td>{{user.email}}</td>
                <td><button type="button" class="btn btn-danger" onclick="window.location.href='/api/update/{{user.id}}'">Update</button></td>
                <td><button type="button" class="btn btn-warning" onclick="window.location.href='/api/delete/{{user.id}}'">Delete</button>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        {% endif %}
    {% endif %}
    <footer style="background-color: rgb(18, 78, 2);height: 7vh;font-weight:bolder;position: fixed;bottom: 0;
                  width: 100%;z-index: 1000; display: flex;justify-content: center;align-items: center;">
                  <p>ShopNow Axim</p>
                </footer>

</body>
</html>